<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>MoI Field Notes</title>
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="css/styles.css">

  
  <meta name="apple-mobile-web-app-title" content="MoI Notes">
  
  <link rel="apple-touch-icon" href="images/logo.png">
</head>
<body>
  <header class="app-header">
    <img src="images/logo.png" alt="MoI Logo" class="logo">
    <h1>MoI Field Notes</h1>
    <div id="db-info" class="db-info">DB: <span id="current-db"></span></div>
  </header>

  <nav class="app-nav">
    <ul>
      <li><a href="#" id="nav-call" class="disabled">Call</a></li>
      <li><a href="#" id="nav-action" class="disabled">Action</a></li>
      <li><a href="#" id="nav-results" class="disabled">Results</a></li>
      <li><a href="#" id="nav-speculation" class="disabled">Speculation</a></li>
    </ul>
  </nav>

  <main id="content" class="app-content"></main>

  <!-- Login overlay for passphrase and DB selection -->
  <div id="login-overlay" class="login-overlay">
    <div class="login-box">
      <h2>Unlock Database</h2>
      <label for="db-select">Select DB:</label>
      <select id="db-select"></select>
      <button id="db-delete" class="btn small">Delete DB</button>

      <label for="db-new">Or create new DB:</label>
      <input type="text" id="db-new" placeholder="New DB name" />
      <button id="db-create" class="btn small">Create DB</button>

      <hr />

      <label for="pass-input">Enter Passphrase:</label>
      <input type="password" id="pass-input" placeholder="Passphrase" />
      <div id="pass-error" class="error-msg"></div>
      <button id="pass-submit" class="btn">Unlock</button>
    </div>
  </div>

  <!-- Load the PWA module -->
  <script type="module" src="js/app.js" defer></script>

  <!-- Register the service worker -->
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js')
        .then(() => console.log('Service Worker Registered'))
        .catch(err => console.error('SW registration failed:', err));
    }
  </script>

  <div id="toast" class="toast"></div>
</body>
</html>



